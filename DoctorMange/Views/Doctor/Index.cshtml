@{
	@using MedicalCenter.Models;
}

<style>
	/* Wrapper Box */
	.custom-filter-box {
		background: #f8f9fa;
		border-radius: 10px;
		box-shadow: 0 4px 12px rgba(0,0,0,0.1);
		padding: 20px;
		margin: 30px auto;
		max-width: 1100px;
	}

	/* Grid Layout */
	.custom-row {
		display: flex;
		flex-wrap: wrap;
		gap: 15px;
	}

	.custom-col {
		flex: 1;
		min-width: 180px;
	}

	/* Inputs & Selects */
	.custom-form-control, .custom-form-select {
		width: 100%;
		padding: 10px 12px;
		border-radius: 6px;
		border: 1px solid #ccc;
		transition: 0.3s;
		font-size: 14px;
		background: #fff;
	}

		.custom-form-control:focus, .custom-form-select:focus {
			border-color: #333;
			box-shadow: 0 0 5px rgba(51,51,51,0.3);
			outline: none;
		}

	.custom-row .nice-select {
		flex: 1;
		min-width: 180px;
		height: 46px;
		line-height: 42px;
		display: inline-flex;
		align-items: center;
		border-radius: 6px;
		border: 1px solid #ccc;
	}

	/* Checkbox */
	.custom-form-check {
		display: flex;
		align-items: center;
		gap: 6px;
		margin-top: 5px;
		font-size: 14px;
	}

		.custom-form-check input {
			transform: scale(1.2);
			cursor: pointer;
		}

	/* Button */
	.custom-btn-dark {
		width: 100%;
		background: #333;
		color: #fff;
		border: none;
		border-radius: 6px;
		padding: 10px;
		font-size: 14px;
		cursor: pointer;
		transition: 0.3s;
	}

		.custom-btn-dark:hover {
			background: #000;
			transform: translateY(-2px);
			box-shadow: 0 4px 8px rgba(0,0,0,0.2);
		}

	/* Title */
	.custom-title {
		font-size: 18px;
		font-weight: bold;
		margin-bottom: 15px;
		color: #333;
	}
</style>


<!-- Filter Section -->
<section class="custom-filter-box">
	<div class="custom-title">🔍 Filter Doctors</div>
	<form>
		<div class="custom-row">

			<!-- Doctor Name -->
			<div class="custom-col">
				<input type="text" class="custom-form-control" placeholder="Doctor Name" name="DoctorName" value="@ViewBag.SaveDoctorName">
			</div>

			<!-- Category -->
			<div class="custom-col">
				<select name="Specialis" class="custom-form-select">
					<option value=" ">--Select Department--</option>
					@if (ViewData["AllDepartments"] is List<Department> departments)
					{
						@foreach (var item in departments)
						{
							if (item.DepartmentsId == ViewBag.SaveSpecialis)
							{
								<option value="@item.DepartmentsId" selected>@item.Name</option>
							}
							else
							{
								<option value="@item.DepartmentsId">@item.Name</option>
							}
						}
					}

				</select>
			</div>

			<!-- Hot Checkbox -->
			<div class="custom-col">
				<div class="custom-form-check">
					<input type="checkbox" name="IsActive" value="True"
						   @(ViewBag.SaveActive is not null && ViewBag.SaveActive ? "checked" : string.Empty)>
					<label>Active</label>
				</div>
			</div>

			<!-- Submit -->
			<div class="custom-col">
				<button type="submit" class="custom-btn-dark">Filter</button>
			</div>

		</div>
	</form>
</section>



<!-- Card Section -->
<section class="py-5">
	<div class="container px-4 px-lg-5 mt-5">
		<div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">
			@if (ViewData["AllDoctors"] is List<Doctor> doctors)
			{
				@foreach (var item in doctors)
				{
					<div class="col" style="margin-top: 4rem !important;">
						<div class="card h-100">
							<!-- Product image-->
							<img class="card-img-top" src="~/images/@item.ImageUrl" alt="..." />
							<!-- Product details-->
							<div class="card-body p-4">
								<div class="text-center">
									<!-- Product name-->
									<h3 class="fw-bolder ">@item.Name</h3>
									<!-- Department Name-->
									@item.Departments.Name
								</div>
							</div>
							<!-- Product actions-->
							<div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
								<div class="text-center">
									<a asp-controller="Appointment" asp-action="Index" asp-route-id="@item.DoctorId" class="btn btn-primary">
										Book Appointment
									</a>
								</div>
							</div>
						</div>
					</div>
				}
			}
		</div>
	</div>
</section>
<!-- End Card Section -->
<!-- Pagination Section -->
<nav aria-label="Page navigation example">
	<ul class="pagination justify-content-center">
		@if (ViewBag.CurrentPage <= 1)
		{
			<li class="page-item disabled">
				<a class="page-link">Previous</a>
			</li>
		}
		else
		{
			<li class="page-item">
				<a class="page-link" href="?page=@(ViewBag.CurrentPage - 1)">Previous</a>
			</li>
		}

		@for (int i = 1; i <= ViewBag.CountPage; i++)
		{
			<li class="page-item"><a class="page-link" href="?page=@i" name="Page">@i</a></li>
		}

		@if (ViewBag.CurrentPage >= ViewBag.CountPage)
		{
			<li class="page-item disabled">
				<a class="page-link">Next</a>
			</li>
		}
		else
		{
			<li class="page-item">
				<a class="page-link" href="?page=@(ViewBag.CurrentPage + 1)">Next</a>
			</li>
		}
	</ul>
</nav>
<!-- End Pagination Section -->
